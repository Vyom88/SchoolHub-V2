<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SchoolHub</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    {% load crispy_forms_tags %}


    <script>
        domain = "http://127.0.0.1:8000";
        function teacherbutton() {
            window.location.replace(domain + "/register/teacher-sign-up");
        }

        function redirect_to_login_page() {
            window.location.replace(domain + "/login");
        }

        function redirect_to_sign_up_page() {
            window.location.replace(domain + "/register/student-sign-up");
        }

        function redirect_to_teacher_home_page() {
            window.location.replace(domain + "/teacher-home");
        }

        function teacher_event_page() {
            window.location.replace(domain + "/teacher-school-event");
        }

        function teacher_announcement_page() {
            window.location.replace(domain + "/teacher-home");
        }

        function delete_club2() {
            var val = confirm("Do you want to delete the club {{club.name}}?");
            if (val == true) {
                document.getElementById("delete_club").click();
            }
        }


    </script>


</head>

<body>

    <form method="POST">

        {% csrf_token %}

        <button name="back" type="submit">Back</button> <br>
        {% if member2.isOwner %}
            <button type="button" onClick="delete_club2()">Delete Club</button>
            <br>
            <button type="submit" name="delete_club" style="visibility: hidden;" id="delete_club">Delete Club</button>
        {% endif %}
        <h2>{{club.name}}</h2> <h5>{{club.description}}</h5> <br> <h5>Passcode: {{passcode}}</h5>

        <button name="create_announcement" type="submit">Create Announcement</button>

        <br> <br>
        <h4>Announcements</h4>
        {% for announcement in announcements %}

        <h1>{{announcement.announcement_title}}</h1>
        <h4>{{announcement.announcement_content}}</h4>
        <button name="a{{announcement.id}}" type="submit">View</button>

        {% endfor %}

        <br> <br>
        <button name="create_event" type="submit">Create Event</button>

        <h4>Events</h4>
        {% for event in events %}
        
        <h1>{{event.event_title}}</h1>
        <h4>{{event.event_content}} • {{event.event_date}}</h4>
        <button name="e{{event.id}}" type="submit">View</button>
        
        {% endfor %}

        <br> <br>
        <button name="member_list" type="submit">Members list</button>
        <h4>Members</h4>
        {% for member in members %}
        
        {% if member.isOwner %}
            <h1>{{member.user}} • Creator</h1>
        {% elif member.isCreator %}
            <h1>{{member.user}} • Teacher</h1>
        {% elif member.isPresident %}
            <h1>{{member.user}} • President</h1>
        {% else %}
            <h1>{{member.user}} • Member</h1>
        {% endif %}
        
        {% endfor %}

    </form>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</body>

</html>